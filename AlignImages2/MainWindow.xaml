<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="AlignImages2.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:AlignImages2"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="AlignImages2">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid x:Name="Root" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.Resources>

            <Style x:Key="TitleText" TargetType="TextBlock">
                <Setter Property="FontSize" Value="22"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Margin" Value="0,0,0,6"/>
            </Style>

            <Style x:Key="BodyText" TargetType="TextBlock">
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="Opacity" Value="0.85"/>
            </Style>

            <Style x:Key="PrimaryButtonStyle" TargetType="Button">
                <Setter Property="MinHeight" Value="44"/>
                <Setter Property="Padding" Value="16,10"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="CornerRadius" Value="4"/>
            </Style>

            <Style x:Key="DropDownButtonStyle" TargetType="DropDownButton">
                <Setter Property="MinHeight" Value="44"/>
                <Setter Property="Padding" Value="16,10"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="CornerRadius" Value="4"/>

            </Style>
        </Grid.Resources>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Grid.Row="0" Margin="24,24,24,10">
            <!--<StackPanel Spacing="4">
                <TextBlock Text="Align Images" Style="{StaticResource TitleText}"/>
                <TextBlock Text="Import photos and run alignment. Progress and previews appear below."
                           Style="{StaticResource BodyText}"/>
            </StackPanel>-->
        </Grid>

        <!-- Main content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Grid Margin="24,0,24,0">
                <Border
                    HorizontalAlignment="Center"
                    MaxWidth="920"
                    CornerRadius="16"
                    Padding="22"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1">

                    <StackPanel Spacing="14">

                        <!-- Actions -->
                        <Grid ColumnSpacing="12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <DropDownButton x:Name="FilePickerButton"
                                            Grid.Column="0"
                                            Content="Import Photos"
                                            Style="{StaticResource DropDownButtonStyle}">
                                <DropDownButton.Flyout>
                                    <MenuFlyout Placement="Bottom">
                                        <MenuFlyoutItem Text="Select Files" Click="PickMultipleFilesFlyButton_Click"/>
                                        <MenuFlyoutItem Text="Select Folder" Click="PickFolderFlyButton_Click"/>
                                    </MenuFlyout>
                                </DropDownButton.Flyout>
                            </DropDownButton>

                            <Button x:Name="AlignButton"
                                    Grid.Column="1"
                                    Content="Align Images"
                                    Click="AlignImagesButton_Click"
                                    Style="{StaticResource PrimaryButtonStyle}"/>
                        </Grid>

                        <!-- Status -->
                        <Border CornerRadius="12"
                                Padding="12"
                                Background="{ThemeResource SystemFillColorNeutralBackgroundBrush}">
                            <StackPanel Spacing="6">
                                <TextBlock Text="Selected input" FontWeight="SemiBold" FontSize="13"/>
                                <TextBlock x:Name="PickedMultipleFilesTextBlock"
                                           Text="No files picked"
                                           TextWrapping="Wrap"
                                           Opacity="0.85"/>
                            </StackPanel>
                        </Border>

                        <!-- Progress -->
                        <StackPanel Spacing="8">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Text="Progress" FontWeight="SemiBold" FontSize="13"/>
                                <TextBlock Grid.Column="1"
                                           FontWeight="SemiBold"
                                           FontSize="13"
                                           Opacity="0.9"
                                           Text="{Binding ElementName=MyProgressBar, Path=Value}"/>
                            </Grid>

                            <ProgressBar x:Name="MyProgressBar"
                                         Minimum="0"
                                         Maximum="100"
                                         Value="0"
                                         Height="10"
                                         HorizontalAlignment="Stretch"
                                         Visibility="Collapsed"/>
                        </StackPanel>

                        <!-- Preview gallery -->
                        <StackPanel Spacing="8">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Text="Generated previews" FontWeight="SemiBold" FontSize="13"/>
                                <TextBlock x:Name="PreviewCountTextBlock"
                                           Grid.Column="1"
                                           Text="0 images"
                                           Opacity="0.8"/>
                            </Grid>

                            <GridView x:Name="PreviewGrid"
                                      IsItemClickEnabled="True"
                                      ItemClick="PreviewGrid_ItemClick"
                                      SelectionMode="None"
                                      HorizontalAlignment="Stretch">
                                <GridView.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <ItemsWrapGrid Orientation="Horizontal" MaximumRowsOrColumns="4"/>
                                    </ItemsPanelTemplate>
                                </GridView.ItemsPanel>

                                <GridView.ItemTemplate>
                                    <DataTemplate x:DataType="local:PreviewImageItem">
                                        <Border CornerRadius="10"
                                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                BorderThickness="1">
                                            <Grid Width="140" Height="140">
                                                <Image Source="{x:Bind Thumbnail}" Stretch="UniformToFill"/>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </GridView.ItemTemplate>
                            </GridView>

                            <TextBlock Text="Click a thumbnail to open a large preview inside the app."
                                       Style="{StaticResource BodyText}"/>
                        </StackPanel>

                    </StackPanel>
                </Border>
            </Grid>
        </ScrollViewer>

        <!-- Footer -->
        <Grid Grid.Row="2" Margin="24,8,24,18">
            <TextBlock Text="Tip: you can choose a folder for batch runs."
                       Style="{StaticResource BodyText}"/>
        </Grid>
    </Grid>
</Window>


<!--<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="AlignImages2.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:AlignImages2"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="AlignImages2">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid>
        <Grid.Resources>
            -->
<!-- Typography -->
<!--
            <Style x:Key="TitleText" TargetType="TextBlock">
                <Setter Property="FontSize" Value="22"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Margin" Value="0,0,0,6"/>
            </Style>

            <Style x:Key="BodyText" TargetType="TextBlock">
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="Opacity" Value="0.85"/>
            </Style>

            -->
<!-- Buttons -->
<!--
            <Style x:Key="PrimaryButtonStyle" TargetType="Button">
                <Setter Property="MinHeight" Value="44"/>
                <Setter Property="Padding" Value="16,10"/>
                <Setter Property="FontSize" Value="14"/>
            </Style>

            <Style x:Key="DropDownButtonStyle" TargetType="DropDownButton">
                <Setter Property="MinHeight" Value="44"/>
                <Setter Property="Padding" Value="16,10"/>
                <Setter Property="FontSize" Value="14"/>
            </Style>
        </Grid.Resources>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        -->
<!-- Header -->
<!--
        <Grid Margin="24" Grid.Row="0">
            <TextBlock Text="Align Images" Style="{StaticResource TitleText}"/>
            <TextBlock Text="Import photos and run alignment. Progress will appear below."
                       Style="{StaticResource BodyText}"/>
        </Grid>

        -->
<!-- Center card -->
<!--
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="680"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="1"
                    CornerRadius="16"
                    Padding="22"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1">
                <StackPanel Spacing="14">

                    -->
<!-- Actions -->
<!--
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="14"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <DropDownButton x:Name="FilePickerButton"
                                        Grid.Column="0"
                                        Content="Import Photos"
                                        Style="{StaticResource DropDownButtonStyle}">
                            <DropDownButton.Flyout>
                                <MenuFlyout Placement="Bottom">
                                    <MenuFlyoutItem Text="Select Files" Click="PickMultipleFilesFlyButton_Click"/>
                                    <MenuFlyoutItem Text="Select Folder" Click="PickFolderFlyButton_Click"/>
                                </MenuFlyout>
                            </DropDownButton.Flyout>
                        </DropDownButton>

                        <Button Grid.Column="2"
                                Content="Align Images"
                                Click="AlignImagesButton_Click"
                                Style="{StaticResource PrimaryButtonStyle}"/>
                    </Grid>

                    -->
<!-- Status -->
<!--
                    <Border CornerRadius="12"
                            Padding="12"
                            Background="{ThemeResource SystemFillColorNeutralBackgroundBrush}">
                        <StackPanel Spacing="6">
                            <TextBlock Text="Selected input" FontWeight="SemiBold" FontSize="13"/>
                            <TextBlock x:Name="PickedMultipleFilesTextBlock"
                                       Text="No files picked"
                                       TextWrapping="Wrap"
                                       Opacity="0.85"/>
                        </StackPanel>
                    </Border>

                    -->
<!-- Progress -->
<!--
                    <StackPanel Spacing="8">
                        <TextBlock Text="Progress" FontWeight="SemiBold" FontSize="13"/>
                        <ProgressBar x:Name="MyProgressBar"
                                     Minimum="0"
                                     Maximum="100"
                                     Value="0"
                                     Height="10"
                                     HorizontalAlignment="Stretch"/>
                    </StackPanel>

                </StackPanel>
            </Border>
        </Grid>

        -->
<!-- Footer -->
<!--
        <Grid Grid.Row="2" Margin="24,0,24,18">
            <TextBlock Text="Tip: you can choose a folder for batch runs."
                       Style="{StaticResource BodyText}"/>
        </Grid>
    </Grid>
</Window>-->

    